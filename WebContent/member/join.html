
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>jQuery Event Demo</title>
    <script src="../js/jquery-3.4.1.js"></script>
    <script>
        $(function(){
           $('.error').hide();
           $('#id').focus();

           //$('#sendMember').click(function(event){
            //$('#sendMember').on('click',function(event){
            $('#sendMember').bind('click',function(event){
               //기본기능을 방지하기 위해서 사용한다.
               event.preventDefault();
               //유효성 검사
               let id = $('#id').val();
               let email = $('#email').val();
               let pw = $('#password').val();
               let cpw = $('#checkPassword').val();
               if(id == ""){
                   $("#errorId").show();
                   //$('#id').css('border','2px solid red')
                   $('#id').focus();
                   return;
               }else{
                   $('#errorId').hide();
               }

               
               if(email == ""){
                   $("#errorEmail").show();
                   $('#email').focus();
                   return;
               }else{
                   $('#errorEmail').hide();
               }


               if(pw){
                   $('#errorPassword').hide();
                   
               }else{
                $("#errorPassword").show();
                   $('#password').focus();
                   return;
               }


               if(cpw){
                   $('#errorCheckPassword').hide();
                   
               }else{
                $("#errorCheckPassword").show();
                   $('#checkPassword').focus();
                   $('#errorMissmatchPassword').hide();
                   return;
               }


               if(pw != cpw){
                   $('#errorMissmatchPassword').show();
                   $('#checkPassword').val("");
                   $('#checkPassword').focus();
                   return;
               } else {
                   $('#errorMissmatchPassword').hide();
                   
               }

               f.submit();
           })
        })
    </script>
    <style>
        .error {
            color : red;
            
        }
    </style>
</head>
<body>
        <h3>jQuery Event</h3>
        <form action="/member/join" method="post" name ="f">
            <label for="id">아이디</label>
            <input type="text" name="id" id="id" placeholder="아이디">
            <span class="error" id="errorId">아이디를 입력하세요</span>
            <br>
            
            <label for="email">이메일</label>
            <input type="text" name="email" id="email" placeholder="이메일">
            <span class="error" id="errorEmail">이메일을 입력하세요</span>
            <br>

            <label for="password">비밀번호</label>
            <input type="password" name="password" id="password" placeholder="비밀번호">
            <span class="error" id="errorPassword">비밀번호를 입력하세요</span>
            <br>

            <label for="checkPassword">비밀번호 확인</label>
            <input type="password" name="checkPassword" id="checkPassword" placeholder="비밀번호 확인">
            <span class="error" id="errorCheckPassword">비밀번호 확인을 입력하세요</span>
            <span class="error" id="errorMissmatchPassword">비밀번호가 일치하지 않습니다.</span>
            <br>

            
            <button type="submit" id="sendMember">회원가입</button>
            <button type="reset">취소</button>
        </form>
</body>
</html>